(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{3468:function(t,e,n){Promise.resolve().then(n.bind(n,5998))},5998:function(t,e,n){"use strict";n.r(e);var a=n(7437),s=n(9242),l=n(8121),o=n(2265),r=n(2749),i=n(4033);e.default=()=>{let[t,e]=(0,o.useState)([]),[n,c]=(0,o.useState)(!0),{status:u}=(0,r.useSession)();return((0,o.useEffect)(()=>{let fetchFavorites=async()=>{c(!0);let t=await (0,l.Zo)();if((null==t?void 0:t.length)>0){let n=await (0,l.vl)(t);e(null==n?void 0:n.reverse())}c(!1)};fetchFavorites()},[]),"loading"===u)?(0,a.jsx)("div",{className:" w-screen h-screen flex justify-center items-center",children:(0,a.jsx)("span",{className:"loader"})}):("unauthenticated"===u&&(0,i.redirect)("/login"),(0,a.jsxs)("div",{className:"mx-auto relative flex flex-col w-11/12 text-white min-h-screen ",children:[(0,a.jsx)("h1",{className:"text-6xl font-semibold mt-10",children:"Favourites"}),(0,a.jsx)("h2",{className:"text-3xl font-semibold mt-10",children:"Songs"}),(null==t?void 0:t.length)<=0&&!1===n?(0,a.jsx)("h1",{className:"text-xl font-semibold mt-10",children:"No Favourite Songs"}):(0,a.jsx)(s.default,{SongData:t,loading:n})]}))}},5054:function(t,e,n){"use strict";var a=n(7437);n(2265),e.Z=()=>Array(7).fill().map((t,e)=>(0,a.jsxs)("div",{className:" animate-pulse flex items-center  mt-5 cursor-pointer group border-b-[1px] border-gray-400 justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("div",{className:" bg-gray-300 dark:bg-gray-700 mb-3 w-[50px] h-[50px]"}),(0,a.jsx)("div",{className:" bg-gray-200 rounded-full dark:bg-gray-700 w-16 lg:w-32 h-5"})]}),(0,a.jsx)("div",{className:" bg-gray-200 rounded-full dark:bg-gray-700 w-16 lg:w-16 h-7"})]},e))},9242:function(t,e,n){"use strict";n.r(e);var a=n(7437),s=n(2265),l=n(2492),o=n(4606),r=n(3198),i=n(5054),c=n(6820),u=n(9348),d=n(7269),g=n(5925),f=n(8910);e.default=t=>{let{SongData:e,loading:n,hidePlays:y,isUserPlaylist:h,playlistID:m,setSongs:p}=t,{activeSong:v}=(0,r.v9)(t=>t.player),[x,w]=(0,s.useState)(!1),[j,b]=(0,s.useState)([]),P=(0,r.I0)(),handlePlayClick=(t,n)=>{P((0,l.c_)({song:t,data:e,i:n})),P((0,l.EV)(!0)),P((0,l.A7)(!0))};(0,s.useEffect)(()=>{let getPlaylists=async()=>{let t=await (0,d.aD)();if((null==t?void 0:t.success)==!0){var e;b(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.playlists)}};getPlaylists()},[]);let handleAddToPlaylist=async(t,e)=>{w(!1);let n=await (0,d.AP)(e,t);(null==n?void 0:n.success)==!0?g.toast.success(null==n?void 0:n.message):g.toast.error(null==n?void 0:n.message)},handleDeleteFromPlaylist=async(t,e)=>{w(!1);let n=await (0,d.Ar)(t,e);(null==n?void 0:n.success)==!0?(p(t=>t.filter(t=>{var n;return(null==t?void 0:null===(n=t.id)||void 0===n?void 0:n.toString())!==e.toString()})),g.toast.success(null==n?void 0:n.message)):g.toast.error(null==n?void 0:n.message)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-5",children:!n&&(null==e?void 0:e.length)>0?null==e?void 0:e.map((t,e)=>{var n,s,l,r;return(0,a.jsxs)("div",{onClick:()=>{handlePlayClick(t,e)},className:"flex items-center mt-5 cursor-pointer group border-b-[1px] border-gray-400 justify-between ".concat((null==v?void 0:v.id)===(null==t?void 0:t.id)&&" text-[#00e6e6]"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsxs)("div",{className:" relative mb-3",children:[(0,a.jsx)("img",{src:null==t?void 0:null===(s=t.image)||void 0===s?void 0:null===(n=s[2])||void 0===n?void 0:n.link,alt:null==t?void 0:t.name,width:50,height:50,className:""}),(null==v?void 0:v.id)===(null==t?void 0:t.id)?(0,a.jsx)(c.myC,{size:27,className:" absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[#00e6e6]"}):(0,a.jsx)(o.W9m,{size:25,className:" group-hover:block hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-gray-200"})]}),(0,a.jsxs)("div",{className:" w-24 md:w-64",children:[(0,a.jsx)("p",{className:"text-sm lg:text-lg font-semibold truncate",children:null==t?void 0:null===(r=t.name)||void 0===r?void 0:null===(l=r.replace("&#039;","'"))||void 0===l?void 0:l.replaceAll("&amp;","&")}),(0,a.jsx)("p",{className:"text-gray-400 truncate text-xs",children:null==t?void 0:t.primaryArtists})]})]}),(0,a.jsx)("div",{className:"hidden w-36 ".concat(y?"lg:hidden":"lg:block"),children:(null==t?void 0:t.playCount)&&(0,a.jsxs)("p",{className:"text-gray-400",children:[null==t?void 0:t.playCount," plays"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{children:function(t){let e=Math.floor(t/60),n=Math.round(t%60);return e>0?"".concat(e,":").concat(n.toString().padStart(2,"0")):"".concat(n)}(null==t?void 0:t.duration)}),(0,a.jsxs)("div",{className:" flex gap-2 items-center relative",children:[(0,a.jsx)(u.Ds6,{onClick:e=>{e.stopPropagation(),w(null==t?void 0:t.id)},size:25,className:" text-gray-300"}),x===(null==t?void 0:t.id)&&(0,a.jsxs)("div",{onClick:()=>{w(!1)},className:"absolute text-white top-0 right-0 bg-black/50 bg-opacity-80 backdrop-blur-sm rounded-lg p-3 w-32 flex flex-col gap-2 z-40",children:[(0,a.jsx)("p",{className:"text-sm font-semibold flex gap-1 empty:hidden border-b border-white items-center",children:h?null:"Add to playlist"}),h?(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),handleDeleteFromPlaylist(m,null==t?void 0:t.id)},className:"text-sm font-semibold flex gap-1 items-center hover:underline",children:[(0,a.jsx)(f.XPx,{size:20})," Remove"]}):(null==j?void 0:j.length)>0?null==j?void 0:j.map((e,n)=>(0,a.jsx)("button",{onClick:n=>{n.stopPropagation(),handleAddToPlaylist(null==t?void 0:t.id,e._id)},className:"text-sm font-semibold flex gap-1 items-center hover:underline",children:null==e?void 0:e.name},n)):(0,a.jsx)("p",{className:"text-sm font-semibold flex gap-1 items-center",children:"No Playlist"})]})]})]})]},null==t?void 0:t.id)}):(0,a.jsx)(i.Z,{})}),x&&(0,a.jsx)("div",{onClick:()=>w(!1),className:"fixed top-0 left-0 w-full h-full z-30"})]})}},2492:function(t,e,n){"use strict";n.d(e,{A1:function(){return u},A7:function(){return i},EV:function(){return c},RP:function(){return r},c_:function(){return l},yI:function(){return o}});var a=n(64);let s=(0,a.oM)({name:"player",initialState:{currentSongs:[],currentIndex:0,isActive:!1,isPlaying:!1,activeSong:{},fullScreen:!1,autoAdd:!1},reducers:{setActiveSong:(t,e)=>{e.payload.song&&(t.activeSong=e.payload.song),e.payload.data&&(t.currentSongs=e.payload.data),e.payload.i&&(t.currentIndex=e.payload.i),t.isActive=!0},nextSong:(t,e)=>{t.currentSongs.length>0&&(t.activeSong=t.currentSongs[e.payload],t.currentIndex=e.payload,t.isActive=!0)},prevSong:(t,e)=>{t.currentSongs.length>0&&(t.activeSong=t.currentSongs[e.payload],t.currentIndex=e.payload,t.isActive=!0)},playPause:(t,e)=>{t.isPlaying=e.payload},setFullScreen:(t,e)=>{t.fullScreen=e.payload},setAutoAdd:(t,e)=>{t.autoAdd=e.payload}}}),{setActiveSong:l,nextSong:o,prevSong:r,playPause:i,setFullScreen:c,setAutoAdd:u}=s.actions;e.ZP=s.reducer},8121:function(t,e,n){"use strict";async function homePageData(t){try{let e=await fetch("https://saavn.me/modules?language=".concat(t.toString()),{next:{revalidate:14400}}),n=await e.json();return null==n?void 0:n.data}catch(t){console.log(t)}}async function getSongData(t){try{let e=await fetch("https://saavn.me/songs?id=".concat(t.toString())),n=await e.json();return null==n?void 0:n.data}catch(t){console.log(t)}}async function getAlbumData(t){try{let e=await fetch("https://saavn.me/albums?id=".concat(t)),n=await e.json();return null==n?void 0:n.data}catch(t){console.log(t)}}async function getlyricsData(t){try{let e=await fetch("https://saavn.me/lyrics?id=".concat(t)),n=await e.json();return n}catch(t){console.log(t)}}async function getArtistData(t){try{let e=await fetch("https://saavn.me/artists?id=".concat(t)),n=await e.json();return null==n?void 0:n.data}catch(t){console.log(t)}}async function getArtistSongs(t,e){try{let n=await fetch("https://saavn.me/artists/".concat(t,"/songs?page=").concat(e)),a=await n.json();return null==a?void 0:a.data}catch(t){console.log(t)}}async function getArtistAlbums(t,e){try{let n=await fetch("https://saavn.me/artists/".concat(t,"/albums?page=").concat(e)),a=await n.json();return null==a?void 0:a.data}catch(t){console.log(t)}}async function getSearchedData(t){try{let e=await fetch("https://saavn.me/search/all?query=".concat(t)),n=await e.json();return null==n?void 0:n.data}catch(t){console.log(t)}}async function addFavourite(t){try{let e=await fetch("/api/favourite",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=await e.json();return n}catch(t){console.log("Add favourite API error",t)}}async function getFavourite(){try{var t;let e=await fetch("/api/favourite"),n=await e.json();return null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.favourites}catch(t){console.log("Get favourite API error",t)}}async function getUserInfo(){try{let t=await fetch("/api/userInfo"),e=await t.json();return null==e?void 0:e.data}catch(t){console.log("Get user info API error",t)}}async function resetPassword(t,e,n){try{let a=await fetch("/api/forgotPassword",{method:"PUT",body:JSON.stringify({password:t,confirmPassword:e,token:n}),headers:{"Content-Type":"application/json"}}),s=await a.json();return s}catch(t){console.log("Reset password API error",t)}}async function sendResetPasswordLink(t){try{let e=await fetch("/api/forgotPassword",{method:"POST",body:JSON.stringify({email:t}),headers:{"Content-Type":"application/json"}}),n=await e.json();return n}catch(t){console.log("Send reset password link API error",t)}}async function getRecommendedSongs(t,e){try{let n=await fetch("https://saavn.me/artists/".concat(t,"/recommendations/").concat(e)),a=await n.json();return null==a?void 0:a.data}catch(t){console.log(t)}}n.d(e,{E6:function(){return getlyricsData},IR:function(){return addFavourite},Ux:function(){return getSearchedData},YZ:function(){return homePageData},Zo:function(){return getFavourite},bG:function(){return getUserInfo},c0:function(){return resetPassword},dD:function(){return sendResetPasswordLink},eB:function(){return getAlbumData},hd:function(){return getArtistSongs},nU:function(){return getArtistData},vl:function(){return getSongData},zH:function(){return getArtistAlbums},zZ:function(){return getRecommendedSongs}})},7269:function(t,e,n){"use strict";async function createPlaylist(t){try{let e=await fetch("/api/userPlaylists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),n=await e.json();return n}catch(t){console.log("Create playlist error",t)}}async function getUserPlaylists(){try{let t=await fetch("/api/userPlaylists",{method:"GET",headers:{"Content-Type":"application/json"}}),e=await t.json();return e}catch(t){console.log("Get user playlists error",t)}}async function deletePlaylist(t){try{let e=await fetch("/api/userPlaylists",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlistId:t})}),n=await e.json();return n}catch(t){console.log("Delete playlist error",t)}}async function addSongToPlaylist(t,e){try{let n=await fetch("/api/userPlaylists/songs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlistID:t,song:e})}),a=await n.json();return a}catch(t){console.log("Add song to playlist error",t)}}async function deleteSongFromPlaylist(t,e){try{let n=await fetch("/api/userPlaylists/songs",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlistID:t,song:e})}),a=await n.json();return a}catch(t){console.log("Delete song from playlist error",t)}}async function getSinglePlaylist(t){try{let e=await fetch("/api/userPlaylists/songs?playlist=".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),n=await e.json();return n}catch(t){console.log("Get single playlist error",t)}}n.d(e,{AP:function(){return addSongToPlaylist},Ar:function(){return deleteSongFromPlaylist},aD:function(){return getUserPlaylists},cg:function(){return createPlaylist},l8:function(){return deletePlaylist},yJ:function(){return getSinglePlaylist}})},1172:function(t,e,n){"use strict";n.d(e,{w_:function(){return GenIcon}});var a=n(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(s),__assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},__rest=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&0>e.indexOf(a)&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)0>e.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};function GenIcon(t){return function(e){return a.createElement(IconBase,__assign({attr:__assign({},t.attr)},e),function Tree2Element(t){return t&&t.map(function(t,e){return a.createElement(t.tag,__assign({key:e},t.attr),Tree2Element(t.child))})}(t.child))}}function IconBase(t){var elem=function(e){var n,s=t.attr,l=t.size,o=t.title,r=__rest(t,["attr","size","title"]),i=l||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),a.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,r,{className:n,style:__assign(__assign({color:t.color||e.color},e.style),t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),t.children)};return void 0!==l?a.createElement(l.Consumer,null,function(t){return elem(t)}):elem(s)}}},function(t){t.O(0,[447,582,115,169,713,701,971,472,744],function(){return t(t.s=3468)}),_N_E=t.O()}]);